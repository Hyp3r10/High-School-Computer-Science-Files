import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;

class Solution {
	public static void main(String[] args) {
		System.out.println(minDays(new int[] {1,10,3,10,2}, 3, 1));
	}
	public int minDays(int[] bloomDay, int m, int k) {
        if((m * k) > bloomDay.length) {
            return -1;
        }
        else {
            ArrayList<Flower> flowers = new ArrayList<Flower>();
            for(int days : bloomDay) {
                flowers.add(new Flower(days, k));
            }
            boolean allBouquetsMade = false;
            int numMade = 0;
            int time = 0;
            while(!allBouquetsMade) {
                if(numMade >= m) {
                    allBouquetsMade = true;
                }
                else {
                    flowers = increaseDay(flowers);
                    numMade = getNumBouquets(flowers, m);
                    time++;
                }
            }
            return time;
        }
    }
    public ArrayList<Flower> increaseDay(ArrayList<Flower> flowers) {
        for(int i = 0; i < flowers.size(); i++) {
            Flower temp = flowers.get(i);
            temp.decreaseDays();
            flowers.set(i, temp);
        }
        return flowers;
    }
    public int getNumBouquets(ArrayList<Flower> flowers, int m) {
        int numBouquets = 0;
        for(int i = 0; i < flowers.size(); i++) {
            if(flowers.get(i).isBloomed()) {
                if(m == 1) {
                    numBouquets++;
                }
                else {
                    int count = 0;
                    if(i+1 < flowers.size()) {
                        for(int j = i+1; j < ((i+m)-1); j++) {
                            if(!flowers.get(j).isBloomed()) {
                                i = j;
                                j = i+m-1;
                            }
                            else {
                                count++;
                            }
                        }
                        if((count+1) == m) {
                            numBouquets++;
                            i = i + m - 1;
                        }
                    }
                }
            }
        }
        return numBouquets;
    }
}
class Flower {
    public int numDaysTillBloom;
    public int orriginalDaysTillBloom;
    public int numFlowersInBoquet;
    public Flower(int orriginalDays, int num) {
        this.numDaysTillBloom = orriginalDays;
        this.orriginalDaysTillBloom = orriginalDays;
        this.numFlowersInBoquet = num;
    }
    public void decreaseDays() {
        numDaysTillBloom--;
    }
    public boolean isBloomed() {
        return numDaysTillBloom <= 0;
    }
}